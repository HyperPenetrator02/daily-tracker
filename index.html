<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#3A86FF">

    <title>StatMaxer RPG OS - Level Up Your Life</title>
    <meta name="description"
        content="Level Up Your Life with StatMaxer RPG OS - Gamified habit tracker with hardcore alarms, XP system, and character progression.">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile.css">
    <link rel="stylesheet" href="screen-2412x1080.css">
</head>

<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle menu" style="display: none;">
        â˜°
    </button>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobile-overlay"></div>

    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-logo">
                <span class="logo-icon">âš¡</span>
                <span class="logo-text">StatMaxer</span>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-view="quests" id="nav-quests">
                    <span class="nav-icon">âš”ï¸</span>
                    <span class="nav-label">Quest Log</span>
                </button>
                <button class="nav-item" data-view="matrix" id="nav-matrix">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span class="nav-label">Stat Matrix</span>
                </button>
                <button class="nav-item" data-view="character" id="nav-character">
                    <span class="nav-icon">ğŸ‘¤</span>
                    <span class="nav-label">Character</span>
                </button>
                <button class="nav-item" data-view="settings" id="nav-settings">
                    <span class="nav-icon">âš™ï¸</span>
                    <span class="nav-label">Settings</span>
                </button>
            </nav>
            <div class="sidebar-footer">
                <div class="version-tag">v1.0.0</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header with Player Level -->
            <header class="main-header">
                <div class="header-left">
                    <h1 class="player-title">
                        <span class="player-icon">ğŸ‘¤</span>
                        <span class="player-name">Player_One</span>
                    </h1>
                    <div class="player-stats">
                        <span class="stat-badge">
                            <span class="stat-icon">ğŸ”¥</span>
                            <span class="stat-value" id="streak-count">0</span>
                            <span class="stat-label">Day Streak</span>
                        </span>
                        <span class="stat-badge">
                            <span class="stat-icon">âœ¨</span>
                            <span class="stat-value" id="total-xp">0</span>
                            <span class="stat-label">Total XP</span>
                        </span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="level-container">
                        <div class="level-info">
                            <span class="level-label">OVERALL LEVEL</span>
                            <span class="level-number" id="player-level">1</span>
                        </div>
                        <div class="level-bar-container">
                            <div class="level-bar" id="level-bar">
                                <div class="level-bar-fill" id="level-bar-fill"></div>
                                <div class="level-bar-glow"></div>
                            </div>
                            <span class="level-percentage" id="level-percentage">0%</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- VIEW 1: Quest Log (Daily Habit Cards) -->
            <section class="quest-log-section" id="quests-view">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="title-icon">âš”ï¸</span>
                        Daily Quests
                    </h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="add-quest-btn">
                            <span class="btn-icon">+</span>
                            <span class="btn-text">New Quest</span>
                        </button>
                    </div>
                </div>

                <!-- Quest Cards Container -->
                <div class="quest-cards-container" id="quest-cards-container">
                    <!-- Quest cards will be rendered dynamically -->
                </div>

                <!-- Empty State -->
                <div class="empty-state hidden" id="quests-empty-state">
                    <div class="empty-icon">âš”ï¸</div>
                    <h3 class="empty-title">No Quests Yet</h3>
                    <p class="empty-text">Create your first daily quest and start earning XP!</p>
                    <button class="btn btn-primary btn-large" id="empty-quest-btn">
                        <span class="btn-icon">+</span>
                        <span class="btn-text">Create First Quest</span>
                    </button>
                </div>
            </section>

            <!-- VIEW 2: Stat Matrix (31-Column Grid) -->
            <section class="matrix-section hidden" id="matrix-view">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="title-icon">ğŸ“Š</span>
                        <span id="current-month">January 2026</span>
                    </h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="add-habit-btn">
                            <span class="btn-icon">+</span>
                            <span class="btn-text">Add Habit</span>
                        </button>
                    </div>
                </div>

                <!-- 31-Column Tracking Matrix -->
                <div class="tracking-matrix">
                    <div class="matrix-header">
                        <div class="habit-info-header">HABIT</div>
                        <div class="days-header" id="days-header">
                            <!-- Days 1-31 will be rendered here -->
                        </div>
                        <div class="stat-header">PROGRESS</div>
                    </div>

                    <!-- Habit Rows Container -->
                    <div class="habits-container" id="habits-container">
                        <!-- Habit rows will be rendered dynamically -->
                    </div>
                </div>

                <!-- Empty State -->
                <div class="empty-state hidden" id="matrix-empty-state">
                    <div class="empty-icon">ğŸ“Š</div>
                    <h3 class="empty-title">No Habits Tracked</h3>
                    <p class="empty-text">Add habits to see your monthly progress matrix!</p>
                    <button class="btn btn-primary btn-large" id="empty-add-btn">
                        <span class="btn-icon">+</span>
                        <span class="btn-text">Add First Habit</span>
                    </button>
                </div>
            </section>

            <!-- VIEW 3: Character Tab (Profile & Stats) -->
            <section class="character-section hidden" id="character-view">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="title-icon">ğŸ‘¤</span>
                        Character Profile
                    </h2>
                </div>

                <div class="character-content">
                    <!-- Player Card -->
                    <div class="player-card">
                        <div class="player-avatar">
                            <span class="avatar-icon">ğŸ‘¤</span>
                            <div class="level-badge" id="char-level-badge">1</div>
                        </div>
                        <div class="player-info">
                            <h3 class="player-name-display" id="char-player-name">Player_One</h3>
                            <p class="player-title">Habit Warrior</p>
                        </div>
                    </div>

                    <!-- Global XP Bar -->
                    <div class="xp-section">
                        <div class="xp-header">
                            <span class="xp-label">GLOBAL XP</span>
                            <span class="xp-value" id="char-xp-value">0 / 100</span>
                        </div>
                        <div class="xp-bar-container">
                            <div class="xp-bar-fill" id="char-xp-bar"></div>
                        </div>
                    </div>

                    <!-- Stats Grid -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸ”¥</div>
                            <div class="stat-card-value" id="char-streak">0</div>
                            <div class="stat-card-label">Day Streak</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">âœ…</div>
                            <div class="stat-card-value" id="char-completed">0</div>
                            <div class="stat-card-label">Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸ“ˆ</div>
                            <div class="stat-card-value" id="char-total-quests">0</div>
                            <div class="stat-card-label">Total Quests</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">âš¡</div>
                            <div class="stat-card-value" id="char-multiplier">1.0x</div>
                            <div class="stat-card-label">XP Multiplier</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸ’€</div>
                            <div class="stat-card-value" id="char-penalty" style="color: var(--danger);">0</div>
                            <div class="stat-card-label">Snooze Penalties</div>
                        </div>
                    </div>

                    <!-- Radar Charts Section -->
                    <div class="radar-charts-section">
                        <h3 class="subsection-title">
                            <span class="title-icon">ğŸ“Š</span>
                            Attribute Analysis
                        </h3>
                        <div class="radar-charts-grid">
                            <!-- Strength Chart -->
                            <div class="radar-chart-container">
                                <h4 class="chart-title">ğŸ’ª Strength</h4>
                                <canvas id="strength-radar" width="300" height="300"></canvas>
                                <div class="chart-value" id="strength-value">0</div>
                            </div>
                            <!-- Intelligence Chart -->
                            <div class="radar-chart-container">
                                <h4 class="chart-title">ğŸ§  Intelligence</h4>
                                <canvas id="intelligence-radar" width="300" height="300"></canvas>
                                <div class="chart-value" id="intelligence-value">0</div>
                            </div>
                            <!-- Discipline Chart -->
                            <div class="radar-chart-container">
                                <h4 class="chart-title">ğŸ¯ Discipline</h4>
                                <canvas id="discipline-radar" width="300" height="300"></canvas>
                                <div class="chart-value" id="discipline-value">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings View -->
            <section class="settings-section hidden" id="settings-view">
                <div class="settings-content">
                    <h2 class="section-title">
                        <span class="title-icon">âš™ï¸</span>
                        Settings
                    </h2>
                    <div class="settings-group">
                        <h3>Player Profile</h3>
                        <div class="setting-item">
                            <label for="player-name-input">Player Name</label>
                            <input type="text" id="player-name-input" class="input-field" placeholder="Enter your name">
                        </div>
                    </div>
                    <div class="settings-group">
                        <h3>Data Management</h3>
                        <div class="setting-item">
                            <button class="btn btn-danger" id="reset-data-btn">
                                <span class="btn-icon">ğŸ—‘ï¸</span>
                                <span class="btn-text">Reset All Data</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Habit Modal -->
    <div class="modal-overlay hidden" id="add-habit-modal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span class="title-icon">âœ¨</span>
                    New Habit
                </h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <form class="modal-body" id="habit-form">
                <div class="form-group">
                    <label for="habit-name">Habit Name</label>
                    <input type="text" id="habit-name" class="input-field" placeholder="e.g., Wake up 6AM" required>
                </div>

                <div class="form-group">
                    <label for="habit-category">Category (Attribute)</label>
                    <select id="habit-category" class="input-field" required>
                        <option value="strength">ğŸ’ª Strength (Gym, Stretching, Physical)</option>
                        <option value="intelligence">ğŸ§  Intelligence (Read, Study, Learn)</option>
                        <option value="discipline">ğŸ¯ Discipline (Wake Early, Meditation, Skincare)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="habit-icon">Icon</label>
                    <div class="icon-picker" id="icon-picker">
                        <button type="button" class="icon-option selected" data-icon="ğŸ‹ï¸">ğŸ‹ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“š">ğŸ“š</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§˜">ğŸ§˜</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’§">ğŸ’§</button>
                        <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’¤">ğŸ’¤</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥—">ğŸ¥—</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’»">ğŸ’»</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¨">ğŸ¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸµ">ğŸµ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ…">ğŸŒ…</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒŠ">ğŸŒŠ</button>
                        <button type="button" class="icon-option" data-icon="â°">â°</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¯">ğŸ¯</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’ª">ğŸ’ª</button>
                    </div>
                    <input type="hidden" id="habit-icon" value="ğŸ‹ï¸">
                </div>

                <div class="form-group">
                    <label for="habit-xp">XP Reward</label>
                    <input type="number" id="habit-xp" class="input-field" value="10" min="1" max="100" required>
                    <span class="form-hint">XP earned per completion (1-100)</span>
                </div>

                <div class="form-group">
                    <label for="habit-goal">Monthly Goal (Days)</label>
                    <input type="number" id="habit-goal" class="input-field" value="30" min="1" max="31" required>
                    <span class="form-hint">Target days to complete this month</span>
                </div>

                <div class="form-group">
                    <label for="habit-alarm">Alarm Time (Optional)</label>
                    <input type="time" id="habit-alarm" class="input-field">
                    <span class="form-hint">Set a reminder for this habit</span>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="habit-hardcore" class="checkbox-input">
                        <span class="checkbox-text">
                            <span class="checkbox-icon">ğŸ’€</span>
                            <strong>Hardcore Alarm</strong> - Persistent vibration & high-priority alert
                        </span>
                    </label>
                    <span class="form-hint warning-text">Snoozing deducts 5 XP!</span>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-habit">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">âœ“</span>
                        <span class="btn-text">Create Habit</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay hidden" id="delete-modal">
        <div class="modal modal-small">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span class="title-icon">âš ï¸</span>
                    Delete Habit
                </h2>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete "<span id="delete-habit-name"></span>"?</p>
                <p class="warning-text">This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-delete">Cancel</button>
                <button class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>


    <!-- Chart.js for Radar Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Main Application Script -->
    <script src="app-rpg.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(reg => console.log('âœ… Service Worker registered:', reg.scope))
                    .catch(err => console.log('âŒ Service Worker registration failed:', err));
            });
        }
    </script>
</body>

</html>